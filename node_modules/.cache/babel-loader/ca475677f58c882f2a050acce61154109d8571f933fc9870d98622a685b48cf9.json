{"ast":null,"code":"const Color = require('../Color');\nconst {\n  sqrt,\n  pow,\n  min,\n  max,\n  atan2,\n  abs,\n  cos,\n  sin,\n  exp,\n  PI\n} = Math;\nmodule.exports = function (a, b) {\n  let Kl = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  let Kc = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  let Kh = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n  // Delta E (CIE 2000)\n  // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html\n  var rad2deg = function (rad) {\n    return 360 * rad / (2 * PI);\n  };\n  var deg2rad = function (deg) {\n    return 2 * PI * deg / 360;\n  };\n  a = new Color(a);\n  b = new Color(b);\n  const [L1, a1, b1] = Array.from(a.lab());\n  const [L2, a2, b2] = Array.from(b.lab());\n  const avgL = (L1 + L2) / 2;\n  const C1 = sqrt(pow(a1, 2) + pow(b1, 2));\n  const C2 = sqrt(pow(a2, 2) + pow(b2, 2));\n  const avgC = (C1 + C2) / 2;\n  const G = 0.5 * (1 - sqrt(pow(avgC, 7) / (pow(avgC, 7) + pow(25, 7))));\n  const a1p = a1 * (1 + G);\n  const a2p = a2 * (1 + G);\n  const C1p = sqrt(pow(a1p, 2) + pow(b1, 2));\n  const C2p = sqrt(pow(a2p, 2) + pow(b2, 2));\n  const avgCp = (C1p + C2p) / 2;\n  const arctan1 = rad2deg(atan2(b1, a1p));\n  const arctan2 = rad2deg(atan2(b2, a2p));\n  const h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;\n  const h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;\n  const avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360) / 2 : (h1p + h2p) / 2;\n  const T = 1 - 0.17 * cos(deg2rad(avgHp - 30)) + 0.24 * cos(deg2rad(2 * avgHp)) + 0.32 * cos(deg2rad(3 * avgHp + 6)) - 0.2 * cos(deg2rad(4 * avgHp - 63));\n  let deltaHp = h2p - h1p;\n  deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;\n  deltaHp = 2 * sqrt(C1p * C2p) * sin(deg2rad(deltaHp) / 2);\n  const deltaL = L2 - L1;\n  const deltaCp = C2p - C1p;\n  const sl = 1 + 0.015 * pow(avgL - 50, 2) / sqrt(20 + pow(avgL - 50, 2));\n  const sc = 1 + 0.045 * avgCp;\n  const sh = 1 + 0.015 * avgCp * T;\n  const deltaTheta = 30 * exp(-pow((avgHp - 275) / 25, 2));\n  const Rc = 2 * sqrt(pow(avgCp, 7) / (pow(avgCp, 7) + pow(25, 7)));\n  const Rt = -Rc * sin(2 * deg2rad(deltaTheta));\n  const result = sqrt(pow(deltaL / (Kl * sl), 2) + pow(deltaCp / (Kc * sc), 2) + pow(deltaHp / (Kh * sh), 2) + Rt * (deltaCp / (Kc * sc)) * (deltaHp / (Kh * sh)));\n  return max(0, min(100, result));\n};","map":{"version":3,"names":["Color","require","sqrt","pow","min","max","atan2","abs","cos","sin","exp","PI","Math","module","exports","a","b","Kl","arguments","length","undefined","Kc","Kh","rad2deg","rad","deg2rad","deg","L1","a1","b1","Array","from","lab","L2","a2","b2","avgL","C1","C2","avgC","G","a1p","a2p","C1p","C2p","avgCp","arctan1","arctan2","h1p","h2p","avgHp","T","deltaHp","deltaL","deltaCp","sl","sc","sh","deltaTheta","Rc","Rt","result"],"sources":["C:/Users/Sai/Desktop/REACT/youtube-extension/node_modules/chroma-js/src/utils/delta-e.js"],"sourcesContent":["const Color = require('../Color');\nconst {sqrt, pow, min, max, atan2, abs, cos, sin, exp, PI} = Math;\n\nmodule.exports = function(a, b, Kl=1, Kc=1, Kh=1) {\n    // Delta E (CIE 2000)\n    // see http://www.brucelindbloom.com/index.html?Eqn_DeltaE_CIE2000.html\n    var rad2deg = function(rad) {\n        return 360 * rad / (2 * PI);\n    };\n    var deg2rad = function(deg) {\n        return (2 * PI * deg) / 360;\n    };\n    a = new Color(a);\n    b = new Color(b);\n    const [L1,a1,b1] = Array.from(a.lab());\n    const [L2,a2,b2] = Array.from(b.lab());\n    const avgL = (L1 + L2)/2;\n    const C1 = sqrt(pow(a1, 2) + pow(b1, 2));\n    const C2 = sqrt(pow(a2, 2) + pow(b2, 2));\n    const avgC = (C1 + C2)/2;\n    const G = 0.5*(1-sqrt(pow(avgC, 7)/(pow(avgC, 7) + pow(25, 7))));\n    const a1p = a1*(1+G);\n    const a2p = a2*(1+G);\n    const C1p = sqrt(pow(a1p, 2) + pow(b1, 2));\n    const C2p = sqrt(pow(a2p, 2) + pow(b2, 2));\n    const avgCp = (C1p + C2p)/2;\n    const arctan1 = rad2deg(atan2(b1, a1p));\n    const arctan2 = rad2deg(atan2(b2, a2p));\n    const h1p = arctan1 >= 0 ? arctan1 : arctan1 + 360;\n    const h2p = arctan2 >= 0 ? arctan2 : arctan2 + 360;\n    const avgHp = abs(h1p - h2p) > 180 ? (h1p + h2p + 360)/2 : (h1p + h2p)/2;\n    const T = 1 - 0.17*cos(deg2rad(avgHp - 30)) + 0.24*cos(deg2rad(2*avgHp)) + 0.32*cos(deg2rad(3*avgHp + 6)) - 0.2*cos(deg2rad(4*avgHp - 63));\n    let deltaHp = h2p - h1p;\n    deltaHp = abs(deltaHp) <= 180 ? deltaHp : h2p <= h1p ? deltaHp + 360 : deltaHp - 360;\n    deltaHp = 2*sqrt(C1p*C2p)*sin(deg2rad(deltaHp)/2);\n    const deltaL = L2 - L1;\n    const deltaCp = C2p - C1p;    \n    const sl = 1 + (0.015*pow(avgL - 50, 2))/sqrt(20 + pow(avgL - 50, 2));\n    const sc = 1 + 0.045*avgCp;\n    const sh = 1 + 0.015*avgCp*T;\n    const deltaTheta = 30*exp(-pow((avgHp - 275)/25, 2));\n    const Rc = 2*sqrt(pow(avgCp, 7)/(pow(avgCp, 7) + pow(25, 7)));\n    const Rt = -Rc*sin(2*deg2rad(deltaTheta));\n    const result = sqrt(pow(deltaL/(Kl*sl), 2) + pow(deltaCp/(Kc*sc), 2) + pow(deltaHp/(Kh*sh), 2) + Rt*(deltaCp/(Kc*sc))*(deltaHp/(Kh*sh)));\n    return max(0, min(100, result));\n};\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}