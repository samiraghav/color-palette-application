{"ast":null,"code":"//\n// interpolates between a set of colors uzing a bezier spline\n//\n\n// @requires utils lab\nconst Color = require('../Color');\nrequire('../io/lab');\nconst scale = require('./scale');\n\n// nth row of the pascal triangle\nconst binom_row = function (n) {\n  let row = [1, 1];\n  for (let i = 1; i < n; i++) {\n    let newrow = [1];\n    for (let j = 1; j <= row.length; j++) {\n      newrow[j] = (row[j] || 0) + row[j - 1];\n    }\n    row = newrow;\n  }\n  return row;\n};\nconst bezier = function (colors) {\n  let I, lab0, lab1, lab2;\n  colors = colors.map(c => new Color(c));\n  if (colors.length === 2) {\n    // linear interpolation\n    [lab0, lab1] = colors.map(c => c.lab());\n    I = function (t) {\n      const lab = [0, 1, 2].map(i => lab0[i] + t * (lab1[i] - lab0[i]));\n      return new Color(lab, 'lab');\n    };\n  } else if (colors.length === 3) {\n    // quadratic bezier interpolation\n    [lab0, lab1, lab2] = colors.map(c => c.lab());\n    I = function (t) {\n      const lab = [0, 1, 2].map(i => (1 - t) * (1 - t) * lab0[i] + 2 * (1 - t) * t * lab1[i] + t * t * lab2[i]);\n      return new Color(lab, 'lab');\n    };\n  } else if (colors.length === 4) {\n    // cubic bezier interpolation\n    let lab3;\n    [lab0, lab1, lab2, lab3] = colors.map(c => c.lab());\n    I = function (t) {\n      const lab = [0, 1, 2].map(i => (1 - t) * (1 - t) * (1 - t) * lab0[i] + 3 * (1 - t) * (1 - t) * t * lab1[i] + 3 * (1 - t) * t * t * lab2[i] + t * t * t * lab3[i]);\n      return new Color(lab, 'lab');\n    };\n  } else if (colors.length >= 5) {\n    // general case (degree n bezier)\n    let labs, row, n;\n    labs = colors.map(c => c.lab());\n    n = colors.length - 1;\n    row = binom_row(n);\n    I = function (t) {\n      const u = 1 - t;\n      const lab = [0, 1, 2].map(i => labs.reduce((sum, el, j) => sum + row[j] * u ** (n - j) * t ** j * el[i], 0));\n      return new Color(lab, 'lab');\n    };\n  } else {\n    throw new RangeError(\"No point in running bezier with only one color.\");\n  }\n  return I;\n};\nmodule.exports = colors => {\n  const f = bezier(colors);\n  f.scale = () => scale(f);\n  return f;\n};","map":{"version":3,"names":["Color","require","scale","binom_row","n","row","i","newrow","j","length","bezier","colors","I","lab0","lab1","lab2","map","c","lab","t","lab3","labs","u","reduce","sum","el","RangeError","module","exports","f"],"sources":["C:/Users/Sai/Desktop/REACT/youtube-extension/node_modules/chroma-js/src/generator/bezier.js"],"sourcesContent":["//\n// interpolates between a set of colors uzing a bezier spline\n//\n\n// @requires utils lab\nconst Color = require('../Color');\nrequire('../io/lab');\nconst scale = require('./scale');\n\n// nth row of the pascal triangle\nconst binom_row = function(n) {\n    let row = [1, 1];\n    for (let i = 1; i < n; i++) {\n        let newrow = [1];\n        for (let j = 1; j <= row.length; j++) {\n            newrow[j] = (row[j] || 0) + row[j - 1];\n        }\n        row = newrow;\n    }\n    return row;\n}\n\nconst bezier = function(colors) {\n    let I, lab0, lab1, lab2;\n    colors = colors.map(c => new Color(c));\n    if (colors.length === 2) {\n        // linear interpolation\n        [lab0, lab1] = colors.map(c => c.lab());\n        I = function(t) {\n            const lab = ([0, 1, 2].map((i) => lab0[i] + (t * (lab1[i] - lab0[i]))));\n            return new Color(lab, 'lab');\n        };\n    } else if (colors.length === 3) {\n        // quadratic bezier interpolation\n        [lab0, lab1, lab2] = colors.map(c => c.lab());\n        I = function(t) {\n            const lab = ([0, 1, 2].map((i) => ((1-t)*(1-t) * lab0[i]) + (2 * (1-t) * t * lab1[i]) + (t * t * lab2[i])));\n            return new Color(lab, 'lab');\n        };\n    } else if (colors.length === 4) {\n        // cubic bezier interpolation\n        let lab3;\n        [lab0, lab1, lab2, lab3] = colors.map(c => c.lab());\n        I = function(t) {\n            const lab = ([0, 1, 2].map((i) => ((1-t)*(1-t)*(1-t) * lab0[i]) + (3 * (1-t) * (1-t) * t * lab1[i]) + (3 * (1-t) * t * t * lab2[i]) + (t*t*t * lab3[i])));\n            return new Color(lab, 'lab');\n        };\n    } else if (colors.length >= 5) {\n        // general case (degree n bezier)\n        let labs, row, n;\n        labs = colors.map(c => c.lab());\n        n = colors.length - 1\n        row = binom_row(n);\n        I = function (t) {\n            const u = 1 - t;\n            const lab = ([0, 1, 2].map((i) => labs.reduce((sum, el, j) => (sum + row[j] * u ** (n - j) * t ** j * el[i]), 0)))\n            return new Color(lab, 'lab');\n        };\n    } else {\n        throw new RangeError(\"No point in running bezier with only one color.\")\n    }\n    return I;\n};\n\nmodule.exports = (colors) => {\n    const f = bezier(colors);\n    f.scale = () => scale(f);\n    return f;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}